{"ast":null,"code":"import React from\"react\";import{useGetProductsAllQuery}from\"../redux/products/products.api\";import{ProductItem}from\"../components/product-item/ProductItem\";import{Loader}from\"../components/loader/Loader\";import{ProductFilters}from\"../components/product-filters/ProductFilters\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export function HomePage(){var _useGetProductsAllQue=useGetProductsAllQuery(),data=_useGetProductsAllQue.data,error=_useGetProductsAllQue.error,isLoading=_useGetProductsAllQue.isLoading,status=_useGetProductsAllQue.status;var _useSelector=useSelector(function(state){return state.product;}),filters=_useSelector.filters,searchFilterProducts=_useSelector.searchFilterProducts;var filterByCategory=function filterByCategory(category){return data===null||data===void 0?void 0:data.filter(function(product){return product.category===category;}).map(function(product){return/*#__PURE__*/_jsx(ProductItem,{product:product},product.id);});};var filterByPrice=function filterByPrice(price){var products=data===null||data===void 0?void 0:data.filter(function(item){return item.price>=price[0]&&item.price<=price[1];}).map(function(product){return/*#__PURE__*/_jsx(ProductItem,{product:product},product.id);});if(products.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium\",children:\"Products not found...\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Minimum value 7$ - Maximum value 1000$\"})]});}return products;};var filterByRating=function filterByRating(rating){return data===null||data===void 0?void 0:data.filter(function(item){return rating==='above'?item.rating.rate>=3:item.rating.rate<=3;}).map(function(product){return/*#__PURE__*/_jsx(ProductItem,{product:product},product.id);});};var filterSearch=function filterSearch(data){if(data.length>0){return data.map(function(product){return/*#__PURE__*/_jsx(ProductItem,{product:product},product.id);});}else{return/*#__PURE__*/_jsx(\"p\",{className:\"mt-[30px] mx-auto\",children:\"Products not found...\"});}};var renderProducts=function renderProducts(){if(filters.category)return filterByCategory(filters.category);if(filters.price)return filterByPrice(filters.price);if(filters.rating)return filterByRating(filters.rating);if(searchFilterProducts)return filterSearch(searchFilterProducts);return data===null||data===void 0?void 0:data.map(function(product){return/*#__PURE__*/_jsx(ProductItem,{product:product},product.id);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mb-[20px] mt-[60px] max-w-[1240px] flex flex-col justify-center items-center xl:flex xl:justify-center xl:flex-row xl:items-start mx-auto transition-all flex-auto\",children:[isLoading&&/*#__PURE__*/_jsx(Loader,{}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center mt-4\",children:error.error}),status==='fulfilled'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"lg:w-3/5 xl:w-1/5 flex flex-col items-center mt-[10px]\",children:/*#__PURE__*/_jsx(ProductFilters,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"w-4/5 flex flex-wrap justify-center md:w-full xl:justify-start xl:ml-[20px]\",children:renderProducts()})]})]})});}","map":{"version":3,"names":["React","useGetProductsAllQuery","ProductItem","Loader","ProductFilters","useSelector","HomePage","data","error","isLoading","status","state","product","filters","searchFilterProducts","filterByCategory","category","filter","map","id","filterByPrice","price","products","item","length","filterByRating","rating","rate","filterSearch","renderProducts"],"sources":["/home/asus/React_Shop_App/src/pages/HomePage.js"],"sourcesContent":["import React from \"react\"\nimport {useGetProductsAllQuery} from \"../redux/products/products.api\"\nimport {ProductItem} from \"../components/product-item/ProductItem\"\nimport {Loader} from \"../components/loader/Loader\"\nimport {ProductFilters} from \"../components/product-filters/ProductFilters\"\nimport {useSelector} from \"react-redux\"\n\nexport function HomePage() {\n    const { data, error, isLoading, status } = useGetProductsAllQuery()\n    const {filters, searchFilterProducts} = useSelector(state => state.product)\n\n    const filterByCategory = (category) => {\n        return data?.filter(product => product.category === category)\n            .map(product => <ProductItem product={product} key={product.id} />)\n    }\n\n    const filterByPrice = price => {\n        const products = data?.filter(item => item.price >= price[0] && item.price <= price[1])\n            .map(product => <ProductItem product={product} key={product.id} />)\n        if (products.length === 0) {\n            return <div className='text-center'>\n                <p className='font-medium'>Products not found...</p>\n                <p>Minimum value 7$ - Maximum value 1000$</p>\n            </div>\n        }\n        return products\n    }\n\n    const filterByRating = rating => {\n        return data?.filter(item => rating === 'above' ? item.rating.rate >= 3 : item.rating.rate <= 3)\n            .map(product => <ProductItem product={product} key={product.id} />)\n    }\n\n    const filterSearch = data => {\n        if (data.length > 0) {\n            return data.map(product => <ProductItem product={product} key={product.id}/>)\n        } else {\n            return <p className='mt-[30px] mx-auto'>Products not found...</p>\n        }\n    }\n\n    const renderProducts = () => {\n        if (filters.category) return filterByCategory(filters.category)\n        if (filters.price) return filterByPrice(filters.price)\n        if (filters.rating) return filterByRating(filters.rating)\n        if (searchFilterProducts) return filterSearch(searchFilterProducts)\n\n        return data?.map(product => <ProductItem product={product} key={product.id}/>)\n    }\n\n    return (\n        <>\n            <div className='container mb-[20px] mt-[60px] max-w-[1240px] flex flex-col justify-center items-center xl:flex xl:justify-center xl:flex-row xl:items-start mx-auto transition-all flex-auto'>\n                {isLoading && <Loader />}\n                {error && <p className='text-center mt-4'>{error.error}</p>}\n                {status === 'fulfilled' &&\n                    <>\n                        <div className='lg:w-3/5 xl:w-1/5 flex flex-col items-center mt-[10px]'>\n                            <ProductFilters/>\n                        </div>\n                        <div className='w-4/5 flex flex-wrap justify-center md:w-full xl:justify-start xl:ml-[20px]'>\n                            {renderProducts()}\n                        </div>\n                    </>\n                }\n            </div>\n        </>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}